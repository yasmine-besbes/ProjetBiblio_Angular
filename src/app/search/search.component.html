<div class="container mt-5">
    <form (ngSubmit)="searchBooks()" class="mb-4" >
      <div class="input-group">
        <input type="text" [(ngModel)]="searchText" name="searchText" class="form-control" placeholder="Rechercher par titre">
        <div class="input-group-append">
          <button type="submit" class="btn m-2" style="border-width: 2px; background-color: #eebcbd;">Rechercher</button>
        </div>
      </div>
      <div class="mt-3">
        <span class="fw-bold m-2" style="color: #845455; font-size: medium; font-family: Georgia, 'Times New Roman', Times, serif;">Categories :</span>
        <input type="radio" name="category" [(ngModel)]="selectedCategory" value="Romantique" class="mr-2"> Romantique
        <input type="radio" name="category" [(ngModel)]="selectedCategory" value="Aventure" class="mr-2"> Aventure
        <input type="radio" name="category" [(ngModel)]="selectedCategory" value="Science-Fiction" class="mr-2"> Science-fiction
      </div>
    </form>
    <div class="row">
      <div class="col-md-4 mb-4" *ngFor="let book of books">
        <div class="card">
          <img class="card-img-top" [src]="book.Image" alt="Card image cap" height="400px" width="120px">
          <div class="card-body">
            <h5 class="card-title">{{ book.Titre }}</h5>
            <p class="card-text">Auteur: {{ book.Auteur }}</p>
            <form *ngIf="selectedBookId === book.idLivre" (submit)="onEmprunter(book.idLivre)">
              <div class="form-group">
                <label>Date d'emprunt :</label>
                <input type="date" class="form-control" [(ngModel)]="dateEmprunt" name="dateEmprunt" required>
              </div>
              <div class="d-flex justify-content-center">
                <button type="submit" class="btn m-2" style="background-color: #c2cb9d; align-items: center;">Confirmer</button>
              </div>
              
            </form>
            <div class="d-flex justify-content-center">
              <button type="button" class="btn btn-block" (click)="toggleEmpruntForm(book.idLivre)" style="background-color: #CCE7D6; align-items: center;">Emprunter</button>
            </div>
            
          </div>
        </div>
      </div>
    </div>
  
    <!--<div class="row">
      <div class="col-md-4 mb-4" *ngFor="let book of books">
        <div class="card">
          <img class="card-img-top" [src]="book.Image" alt="Card image cap" height="400px" width="120px">
          <div class="card-body">
            <h5 class="card-title">{{ book.Titre }}</h5>
            <p class="card-text">Auteur: {{ book.Auteur }}</p>
            <form *ngIf="showEmpruntForm" (submit)="onEmprunter(book.idLivre)">
              <div class="form-group">
                <label>Date d'emprunt :</label>
                <input type="date" class="form-control" [(ngModel)]="dateEmprunt" name="dateEmprunt" required>
              </div>
              <button type="submit" class="btn  btn-block" style="background-color: #A66D6E; align-items: center;">Confirmer</button>
            </form>
            <button type="button" class="btn  btn-block" (click)="toggleEmpruntForm()" style="background-color: #655555; align-items: center;">Emprunter</button>
          </div>
        </div>
      </div>
    </div>-->
  </div>
